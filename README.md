# System Dynamics Interface 🌐📊

A web-based interactive platform for exploring system dynamics models that analyse circular economy transitions in the UK chemical manufacturing sector. This project integrates a comprehensive System Dynamics (SD) model into an interactive web interface using SDEverywhere. The visualisation platform enables stakeholders to explore dynamic scenarios, adjust key parameters in real-time, and visualise the outcomes through interactive charts.

📡 [**Offical Webpage**](https://www.circular-chemical.org/system-dynamics-simulator/)

🔥 [**System Dynamics Interface**](https://junhaosong.com/sdsimulator/)

## Technologies 🛠️

- **SDEverywhere Framework**: Converts Vensim models (*.mdl*) to JavaScript
- **Frontend**: HTML, Chart.js, chartjs-plugin-zoom (interactive drag-and-zoom features)
- **Backend**: Node.js environment (v20+ recommended)

## Installation 📥

```bash
# Clone the repository
git clone https://github.com/Rqcker/sdsimulator.git
cd sdsimulator

# Install dependencies
npm install

# Install required visualisation plugins
npm install chartjs-plugin-zoom@0.7.7
```

## Usage 🚀

### Development

Start the development server:

```bash
npm run dev
```

This will launch a local development server, allowing you to test and modify the interface in real-time.

### Building for Production

```bash
npm run build
```

The static site output will be generated in `./packages/app/public`.

## Configuration ⚙️

The simulation interface is governed by several CSV files in the config directory:

- **colors.csv**: Chart curve colours (ID, hex code)
- **graphs.csv**: Layout and type of visual charts (ID, type, title, axis)
- **inputs.csv**: User-adjustable simulation parameters (ID, name, default, range)
- **model.csv**: Structure of the SD model (ID, name, definition, equation)
- **outputs.csv**: Output indicators generated by the model (ID, name, unit, description)
- **strings.csv**: Textual interface content (ID, key, value)

## Deployment 🚀

The visualisation interface is designed as a static webpage and can be deployed on any standard web server or hosted via GitHub Pages.

### GitHub Pages Deployment

An automated deployment script is configured via GitHub Actions in `webpage.yml`. When triggered, it will build the project and deploy it to GitHub Pages.

## Project Structure 📁

```
├── config/               # Configuration files
│   ├── colors.csv        # Chart colour schemes
│   ├── graphs.csv        # Chart types and axes
│   ├── inputs.csv        # Adjustable parameters
│   ├── model.csv         # Variables and equations
│   ├── outputs.csv       # Simulation outputs
│   └── strings.csv       # Interface text
├── model/                # System dynamics model files
├── packages/
│   ├── app/              # Frontend application
│   │   ├── src/          # Source code
│   │   └── index.html    # Main HTML template
│   └── core/             # Core simulation engine
├── sde.config.js         # SDEverywhere configuration
└── sdms.mdl              # Vensim model file
```

## Features 🌟

### Interactive Parameter Controls

The platform incorporates intuitive sliders allowing users to dynamically adjust input parameters and immediately observe the impacts of changes.

### Dynamic Charts and Scenarios

- **Time-Series Analysis**: Charts can represent multiple variables simultaneously
- **Scenario Comparison**: Two charts displayed concurrently for comparative analysis
- **Interactive Controls**: Zoom, pan, reset, and tooltips for detailed data exploration

## Maintenance 🔧

For updating the system dynamics model:

1. Replace the `.mdl` file in the root directory
2. Update configurations in config directory as needed
3. Rebuild the project with `npm run build`
4. Deploy the updated model


## License 📄

This project is licensed under the MIT License - see the LICENSE file for details.

## Acknowledgments

- [SDEverywhere](https://github.com/climateinteractive/SDEverywhere) for enabling the translation of Vensim models to web interfaces.
- [Chart.js](https://github.com/chartjs) and [chartjs-plugin-zoom](https://github.com/chartjs/chartjs-plugin-zoom) for interactive visualisation capabilities.
- [Vensim](https://vensim.com/) for system dynamics modelling.
- This porject is funded by [UK Research and Innovation (UKRI) Interdisciplinary Centre for Circular Chemical Economy](https://www.circular-chemical.org/) (EP/V011863/1 and EP/V011863/2).
